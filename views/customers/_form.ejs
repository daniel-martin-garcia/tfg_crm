
<fieldset class="form-group text-danger">
    <div class="row">
        <legend class="col-form-legend col-auto">Archivado:</legend>

        <div class="col-auto">
            <div class="form-check-inline">
                <label class="form-check-label">
                    <input class="form-check-input"
                           type="radio"
                           name="archived"
                           id="archivedSi"
                           value="si"
                            <%= !!customer.archived ? "checked" : "" %>
                           <%= customerShowView ? "disabled" : "" %>
                    >
                    Si
                </label>
            </div>
            <div class="form-check-inline">
                <label class="form-check-label">
                    <input class="form-check-input"
                           type="radio"
                           name="archived"
                           id="archivedNO"
                           value="no"
                            <%= !customer.archived ? "checked" : "" %>
                            <%= customerShowView ? "disabled" : "" %>
                    >
                    No
                </label>
            </div>
        </div>
    </div>
</fieldset>


<div class="form-row">
    <div class="form-group col">
        <label for="name">Nombre:</label>
        <input type="text"
               class="form-control"
               id="name"
               name="name"
               value="<%= customer.name %>"
               placeholder="Nombre"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col-md-6">
        <label for="code">Código:</label>
        <input type="text"
               class="form-control"
               id="code"
               name="code"
               value="<%= customer.code %>"
               placeholder="Código" autocomplete="off"
               autofocus
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>

    <div class="form-group col-md-6">
        <label for="cif">CIF:</label>
        <input type="text"
               class="form-control"
               id="cif"
               name="cif"
               value="<%= customer.cif %>"
               placeholder="CIF"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col">
        <label for="address1">Dirección:</label>
        <input type="text"
               class="form-control"
               id="address1"
               name="address1"
               value="<%= customer.address1 %>"
               placeholder="Dirección"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col">
        <input type="text"
               class="form-control"
               id="address2"
               name="address2"
               value="<%= customer.address2 %>"
               placeholder="Dirección"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col-md-8">
        <input type="text"
               class="form-control"
               id="city"
               name="city"
               value="<%= customer.city %>"
               placeholder="Ciudad"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>

    <div class="form-group col-md-4">
        <input type="text"
               class="form-control"
               id="postalCode"
               name="postalCode"
               value="<%= customer.postalCode %>"
               placeholder="Código Postal"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col-md-3">
        <label for="phone1">Teléfono 1:</label>
        <input type="text"
               class="form-control"
               id="phone1"
               name="phone1"
               value="<%= customer.phone1 %>"
               placeholder="Teléfono"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>

    <div class="form-group col-md-3">
        <label for="phone2">Teléfono 2:</label>
        <input type="text"
               class="form-control"
               id="phone2"
               name="phone2"
               value="<%= customer.phone2 %>"
               placeholder="Teléfono"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>

    <div class="form-group col-md-3">
        <label for="phone3">FAX:</label>
        <input type="text"
               class="form-control"
               id="phone3"
               name="phone3"
               value="<%= customer.phone3 %>"
               placeholder="Teléfono"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>

    <div class="form-group col-md-3">
        <label for="phone4">Otro:</label>
        <input type="text"
               class="form-control"
               id="phone4"
               name="phone4"
               value="<%= customer.phone4 %>"
               placeholder="Teléfono"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col-md-6">
        <label for="email1">Correo 1:</label>
        <input type="email"
               class="form-control"
               id="email1"
               name="email1"
               value="<%= customer.email1 %>"
               placeholder="email"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>

    <div class="form-group col-md-6">
        <label for="email2">Correo 2:</label>
        <input type="email"
               class="form-control"
               id="email2"
               name="email2"
               value="<%= customer.email2 %>"
               placeholder="email"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col">
        <label for="web">Web:</label>
        <input type="text"
               class="form-control"
               id="web"
               name="web"
               value="<%= customer.web %>"
               placeholder="URL"
               autocomplete="off"
                <%= customerShowView ? "readonly" : "" %>
        />
    </div>
</div>

<div class="form-row">
    <div class="form-group col">
        <label for="notes">Observaciones:</label>
        <textarea type="text"
                  class="form-control"
                  id="notes"
                  name="notes"
                  placeholder="Observaciones"
                  rows="5"
                <%= customerShowView ? "readonly" : "" %> ><%= customer.notes %></textarea>
    </div>
</div>

<h2>
    Cliente habitual de las fábricas:
</h2>

<% if (customerShowView) { %>
    <ul>
        <% for (var i in mainCompanies) { %>
            <% var company = mainCompanies[i]; %>
            <li> <%= company.name %> </li>
        <% } %>
    </ul>
<% } else { %>
    <% for (var i in companiesInfo) { %>
        <% var company = companiesInfo[i]; %>

        <div class="form-check">
            <label class="form-check-label ml-2" for="company<%= company.id %>">
                <input class="form-check-input"
                       type="checkbox"
                       name="mainCompanyIds[]"
                       value="<%= company.id %>"
                       id="company<%= company.id %>">
                <%= company.name %>
            </label>
        </div>
    <% } %>

    <!-- Seleccionar (check) las fabricas del cliente -->

    <script>
        <% for (var i in mainCompanyIds) { %>
        <% var companyId = mainCompanyIds[i]; %>

        document.getElementById("company<%= companyId %>").checked = true;

        <% } %>
    </script>

<% } %>

